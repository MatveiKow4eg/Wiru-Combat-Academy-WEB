{% extends "base.html" %}
{% block title %}{{ _('Тренеры') }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/trainers.css') }}">
{% endblock %}

{% block content %}
<section class="container pad-y trainers-section">
  <h1 class="trainers-title">{{ _('Тренеры') }}</h1>

  <div class="trainers-list">
    {% for t in trainers %}
      {% set role = t.role or (_('Главный тренер по боксу') if t.name == 'Кирилл Сериков' else (_('Тренер по греко-римской борьбе и ММА') if t.name == 'Сийм Пярк' else None)) %}
      <article class="trainer{{ ' trainer--reverse' if loop.index is even else '' }}">
        <div class="trainer__media">
          <img class="trainer__photo" src="{{ t.photo or url_for('static', filename='images/trainer.svg') }}" alt="{{ _(t.name) }}">
        </div>
        <div class="trainer__content">
          <h2 class="trainer__name">{{ _(t.name) }}</h2>
          {% if role %}
            <div class="trainer__role">{{ role }}</div>
          {% endif %}

          {# Список ключевых фактов #}
          {% set facts = t.facts if t.facts is defined else (
            [
              _('10-кратный чемпион Эстонии по боксу'),
              _('Бронзовый призёр чемпионата Европы среди студентов'),
              _('16 лет в боксе'),
            ] if t.name == 'Кирилл Сериков' else [
              _('10+ лет тренировок в клубе Kalev'),
              _('Опыт тренировок в SBG Dublin (Ирландия)'),
              _('Опыт работы в Школе смешанных единоборств'),
            ]) %}

          <div class="trainer__facts">
            <ul>
              {% for item in facts[:4] %}
                <li>{{ item }}</li>
              {% endfor %}
            </ul>
          </div>

{# Телефон #}
{% set phone = t.phone if t.phone is defined else ('+372 5330 6426' if t.name == 'Кирилл Сериков' else '+372 5335 9985') %}

<div class="trainer__phone">
  <a href="tel:{{ phone|replace(' ', '') }}">{{ phone }}</a>
</div>
      </article>
    {% else %}
      <p>{{ _('Скоро здесь появятся тренеры.') }}</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
